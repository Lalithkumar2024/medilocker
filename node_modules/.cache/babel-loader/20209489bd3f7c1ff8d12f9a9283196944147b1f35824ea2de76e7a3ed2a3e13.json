{"ast":null,"code":"var _jsxFileName = \"D:\\\\Kumaran project\\\\medilocker\\\\src\\\\pages\\\\Hospital.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Header from \"../components/Header\";\nimport Footer from \"../components/Footer\";\nimport { MapContainer, TileLayer, Marker, Popup } from \"react-leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport axios from \"axios\";\nimport L from \"leaflet\";\nimport iconUrl from \"leaflet/dist/images/marker-icon.png\";\nimport iconShadow from \"leaflet/dist/images/marker-shadow.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst defaultIcon = new L.Icon({\n  iconUrl,\n  shadowUrl: iconShadow,\n  iconSize: [25, 41],\n  iconAnchor: [12, 41],\n  popupAnchor: [1, -34]\n});\nconst Hospital = () => {\n  _s();\n  const [currentLocation, setCurrentLocation] = useState([51.505, -0.09]); // Default: London\n  const [hospitals, setHospitals] = useState([]);\n  useEffect(() => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(position => {\n        const location = [position.coords.latitude, position.coords.longitude];\n        setCurrentLocation(location);\n        fetchNearbyHospitals(location);\n      }, error => {\n        console.error(\"Location access denied:\", error);\n        alert(\"Location access denied! Showing default location.\");\n      });\n    }\n  }, []);\n  const fetchNearbyHospitals = async location => {\n    const [lat, lon] = location;\n    const radius = 5000; // Search radius in meters (5 km)\n\n    const overpassQuery = `\n      [out:json];\n      (\n        node[\"amenity\"=\"hospital\"](around:${radius},${lat},${lon});\n        node[\"healthcare\"=\"hospital\"](around:${radius},${lat},${lon});\n      );\n      out body;\n    `;\n    try {\n      const response = await axios.get(`https://overpass-api.de/api/interpreter?data=${encodeURIComponent(overpassQuery)}`);\n      const hospitalData = response.data.elements.map(element => ({\n        id: element.id,\n        name: element.tags.name || \"Unknown Hospital\",\n        lat: element.lat,\n        lon: element.lon\n      }));\n      setHospitals(hospitalData);\n    } catch (error) {\n      console.error(\"Error fetching hospitals:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"hospital\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(MapContainer, {\n      center: currentLocation,\n      zoom: 13,\n      style: {\n        height: \"500px\",\n        width: \"100%\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n        attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Marker, {\n        position: currentLocation,\n        icon: defaultIcon,\n        children: /*#__PURE__*/_jsxDEV(Popup, {\n          children: \"You are here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), hospitals.map(hospital => /*#__PURE__*/_jsxDEV(Marker, {\n        position: [hospital.lat, hospital.lon],\n        icon: defaultIcon,\n        children: /*#__PURE__*/_jsxDEV(Popup, {\n          children: hospital.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this)\n      }, hospital.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 9\n  }, this);\n};\n_s(Hospital, \"QibDtOGrwiEoLTklDrvcQ7gMSEY=\");\n_c = Hospital;\nexport default Hospital;\nvar _c;\n$RefreshReg$(_c, \"Hospital\");","map":{"version":3,"names":["React","useState","useEffect","Header","Footer","MapContainer","TileLayer","Marker","Popup","axios","L","iconUrl","iconShadow","jsxDEV","_jsxDEV","defaultIcon","Icon","shadowUrl","iconSize","iconAnchor","popupAnchor","Hospital","_s","currentLocation","setCurrentLocation","hospitals","setHospitals","navigator","geolocation","getCurrentPosition","position","location","coords","latitude","longitude","fetchNearbyHospitals","error","console","alert","lat","lon","radius","overpassQuery","response","get","encodeURIComponent","hospitalData","data","elements","map","element","id","name","tags","className","children","fileName","_jsxFileName","lineNumber","columnNumber","center","zoom","style","height","width","url","attribution","icon","hospital","_c","$RefreshReg$"],"sources":["D:/Kumaran project/medilocker/src/pages/Hospital.jsx"],"sourcesContent":["import React,{ useState, useEffect } from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport Footer from \"../components/Footer\";\r\nimport { MapContainer, TileLayer, Marker, Popup } from \"react-leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport axios from \"axios\";\r\nimport L from \"leaflet\";\r\n\r\n\r\nimport iconUrl from \"leaflet/dist/images/marker-icon.png\";\r\nimport iconShadow from \"leaflet/dist/images/marker-shadow.png\";\r\n\r\nconst defaultIcon = new L.Icon({\r\n    iconUrl,\r\n    shadowUrl: iconShadow,\r\n    iconSize: [25, 41],\r\n    iconAnchor: [12, 41],\r\n    popupAnchor: [1, -34],\r\n  });\r\n  \r\nconst Hospital = () => {\r\n\r\n    const [currentLocation, setCurrentLocation] = useState([51.505, -0.09]); // Default: London\r\n  const [hospitals, setHospitals] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        (position) => {\r\n          const location = [position.coords.latitude, position.coords.longitude];\r\n          setCurrentLocation(location);\r\n          fetchNearbyHospitals(location);\r\n        },\r\n        (error) => {\r\n          console.error(\"Location access denied:\", error);\r\n          alert(\"Location access denied! Showing default location.\");\r\n        }\r\n      );\r\n    }\r\n  }, []);\r\n\r\n  const fetchNearbyHospitals = async (location) => {\r\n    const [lat, lon] = location;\r\n    const radius = 5000; // Search radius in meters (5 km)\r\n\r\n    const overpassQuery = `\r\n      [out:json];\r\n      (\r\n        node[\"amenity\"=\"hospital\"](around:${radius},${lat},${lon});\r\n        node[\"healthcare\"=\"hospital\"](around:${radius},${lat},${lon});\r\n      );\r\n      out body;\r\n    `;\r\n\r\n    try {\r\n      const response = await axios.get(\r\n        `https://overpass-api.de/api/interpreter?data=${encodeURIComponent(overpassQuery)}`\r\n      );\r\n      const hospitalData = response.data.elements.map((element) => ({\r\n        id: element.id,\r\n        name: element.tags.name || \"Unknown Hospital\",\r\n        lat: element.lat,\r\n        lon: element.lon,\r\n      }));\r\n      setHospitals(hospitalData);\r\n    } catch (error) {\r\n      console.error(\"Error fetching hospitals:\", error);\r\n    }\r\n  };\r\n    return(\r\n        <div className=\"hospital\">\r\n            <Header/>\r\n            {/* <section className=\"hospitalsection\">\r\n                <iframe src=\"https://www.google.com/maps/embed?pb=!1m16!1m12!1m3!1d31162.166167737803!2d80.15402188417629!3d12.498203435207312!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!2m1!1snearby%20hospital!5e0!3m2!1sen!2sin!4v1743770320583!5m2!1sen!2sin\" \r\n                width=\"600\" height=\"450\"  allowfullscreen=\"\" loading=\"lazy\" referrerpolicy=\"no-referrer-when-downgrade\"></iframe>\r\n            </section> */}\r\n            <MapContainer center={currentLocation} zoom={13} style={{ height: \"500px\", width: \"100%\" }}>\r\n                <TileLayer\r\n                    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                    attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n                />\r\n\r\n                {/* User's Location Marker */}\r\n                <Marker position={currentLocation} icon={defaultIcon}>\r\n                    <Popup>You are here</Popup>\r\n                </Marker>\r\n\r\n                {/* Hospital Markers */}\r\n                {hospitals.map((hospital) => (\r\n                    <Marker key={hospital.id} position={[hospital.lat, hospital.lon]} icon={defaultIcon}>\r\n                    <Popup>{hospital.name}</Popup>\r\n                    </Marker>\r\n                ))}\r\n                </MapContainer>\r\n            <Footer/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Hospital;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}